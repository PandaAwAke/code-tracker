{
  "origin": "codeshovel",
  "repositoryName": "intellij-community",
  "repositoryPath": "H:\\Projects\\JetBrains\\intellij-community/.git",
  "startCommitName": "ecb1bb9d4d484ae63ee77f8ad45bdce154db9356",
  "sourceFileName": "CompilerManagerImpl.java",
  "functionName": "removeCompiler",
  "functionId": "removeCompiler___compiler-Compiler(annotations-@NotNull)",
  "sourceFilePath": "java/compiler/impl/src/com/intellij/compiler/CompilerManagerImpl.java",
  "functionStartLine": 148,
  "functionEndLine": 153,
  "numCommitsSeen": 87,
  "timeTaken": 20771,
  "changeHistory": [
    "06156396fa4af916d45b846ee045bdbaea79b6c1",
    "29b98dbe5df9b3ec0a58b9f0ac0b44997b4251f9",
    "a015b79873b418ecb241b9cee16508e38e55ee65",
    "62061626c6844513ba00233768eb72efd7bc23fc",
    "73c6272439e63f1eb93b3fee72b02f23d24c5fd5",
    "56d2d6f5399315a6c8957f1f1a60e22f840d7e97",
    "18f91a97ace20e612c68037047715572f6d25877",
    "20639250de6910bfd8904ba3fb54ded5624f6656",
    "637afa62e37f2ff15acf2f0129aa7eae57024506",
    "7460e5adae69c7b17c951f1198a6b6900721a1ee"
  ],
  "changeHistoryShort": {
    "06156396fa4af916d45b846ee045bdbaea79b6c1": "Ybodychange",
    "29b98dbe5df9b3ec0a58b9f0ac0b44997b4251f9": "Ybodychange",
    "a015b79873b418ecb241b9cee16508e38e55ee65": "Ybodychange",
    "62061626c6844513ba00233768eb72efd7bc23fc": "Yfilerename",
    "73c6272439e63f1eb93b3fee72b02f23d24c5fd5": "Ymultichange(Ybodychange,Yparametermetachange)",
    "56d2d6f5399315a6c8957f1f1a60e22f840d7e97": "Ybodychange",
    "18f91a97ace20e612c68037047715572f6d25877": "Ybodychange",
    "20639250de6910bfd8904ba3fb54ded5624f6656": "Yfilerename",
    "637afa62e37f2ff15acf2f0129aa7eae57024506": "Yfilerename",
    "7460e5adae69c7b17c951f1198a6b6900721a1ee": "Yintroduced"
  },
  "changeHistoryDetails": {
    "06156396fa4af916d45b846ee045bdbaea79b6c1": {
      "type": "Ybodychange",
      "commitMessage": "cleanup\n",
      "commitDate": "2017-04-25, 10:19 a.m.",
      "commitName": "06156396fa4af916d45b846ee045bdbaea79b6c1",
      "commitAuthor": "Alexey Kudravtsev",
      "commitDateOld": "2017-04-10, 4:45 a.m.",
      "commitNameOld": "d953a060945eb08daadf938145af31de0885abe0",
      "commitAuthorOld": "Egor.Ushakov",
      "daysBetweenCommits": 15.23,
      "commitsBetweenForRepo": 1052,
      "commitsBetweenForFile": 1,
      "actualSource": "  public final void removeCompiler(@NotNull Compiler compiler) {\n    for (List\u003cCompileTask\u003e tasks : Arrays.asList(myBeforeTasks, myAfterTasks)) {\n      tasks.removeIf(\n        task -\u003e task instanceof FileProcessingCompilerAdapterTask \u0026\u0026 ((FileProcessingCompilerAdapterTask)task).getCompiler() \u003d\u003d compiler);\n    }\n  }",
      "path": "java/compiler/impl/src/com/intellij/compiler/CompilerManagerImpl.java",
      "functionStartLine": 149,
      "functionName": "removeCompiler",
      "diff": "@@ -1,10 +1,6 @@\n   public final void removeCompiler(@NotNull Compiler compiler) {\n     for (List\u003cCompileTask\u003e tasks : Arrays.asList(myBeforeTasks, myAfterTasks)) {\n-      for (Iterator\u003cCompileTask\u003e iterator \u003d tasks.iterator(); iterator.hasNext(); ) {\n-        CompileTask task \u003d iterator.next();\n-        if (task instanceof FileProcessingCompilerAdapterTask \u0026\u0026 ((FileProcessingCompilerAdapterTask)task).getCompiler() \u003d\u003d compiler) {\n-          iterator.remove();\n-        }\n-      }\n+      tasks.removeIf(\n+        task -\u003e task instanceof FileProcessingCompilerAdapterTask \u0026\u0026 ((FileProcessingCompilerAdapterTask)task).getCompiler() \u003d\u003d compiler);\n     }\n   }\n\\ No newline at end of file\n",
      "extendedDetails": {}
    },
    "29b98dbe5df9b3ec0a58b9f0ac0b44997b4251f9": {
      "type": "Ybodychange",
      "commitMessage": "deleting old make implementation\n",
      "commitDate": "2014-05-28, 7:14 a.m.",
      "commitName": "29b98dbe5df9b3ec0a58b9f0ac0b44997b4251f9",
      "commitAuthor": "Eugene Zhuravlev",
      "commitDateOld": "2014-05-08, 7:32 a.m.",
      "commitNameOld": "e5e591593741683457458d0b7cb9a299abf03a56",
      "commitAuthorOld": "Eugene Zhuravlev",
      "daysBetweenCommits": 19.99,
      "commitsBetweenForRepo": 1155,
      "commitsBetweenForFile": 1,
      "actualSource": "  public final void removeCompiler(@NotNull Compiler compiler) {\n    for (List\u003cCompileTask\u003e tasks : Arrays.asList(myBeforeTasks, myAfterTasks)) {\n      for (Iterator\u003cCompileTask\u003e iterator \u003d tasks.iterator(); iterator.hasNext(); ) {\n        CompileTask task \u003d iterator.next();\n        if (task instanceof FileProcessingCompilerAdapterTask \u0026\u0026 ((FileProcessingCompilerAdapterTask)task).getCompiler() \u003d\u003d compiler) {\n          iterator.remove();\n        }\n      }\n    }\n  }",
      "path": "java/compiler/impl/src/com/intellij/compiler/CompilerManagerImpl.java",
      "functionStartLine": 113,
      "functionName": "removeCompiler",
      "diff": "@@ -1,19 +1,10 @@\n   public final void removeCompiler(@NotNull Compiler compiler) {\n-    if (compiler instanceof TranslatingCompiler) {\n-      myTranslators.remove(compiler);\n-    }\n-    else {\n-      if (myCompilers.remove(compiler)) {\n-        for (List\u003cCompileTask\u003e tasks : Arrays.asList(myBeforeTasks, myAfterTasks)) {\n-          for (Iterator\u003cCompileTask\u003e iterator \u003d tasks.iterator(); iterator.hasNext(); ) {\n-            CompileTask task \u003d iterator.next();\n-            if (task instanceof FileProcessingCompilerAdapterTask \u0026\u0026 ((FileProcessingCompilerAdapterTask)task).getCompiler() \u003d\u003d compiler) {\n-              iterator.remove();\n-            }\n-          }\n+    for (List\u003cCompileTask\u003e tasks : Arrays.asList(myBeforeTasks, myAfterTasks)) {\n+      for (Iterator\u003cCompileTask\u003e iterator \u003d tasks.iterator(); iterator.hasNext(); ) {\n+        CompileTask task \u003d iterator.next();\n+        if (task instanceof FileProcessingCompilerAdapterTask \u0026\u0026 ((FileProcessingCompilerAdapterTask)task).getCompiler() \u003d\u003d compiler) {\n+          iterator.remove();\n         }\n       }\n     }\n-    myCompilerToInputTypes.remove(compiler);\n-    myCompilerToOutputTypes.remove(compiler);\n   }\n\\ No newline at end of file\n",
      "extendedDetails": {}
    },
    "a015b79873b418ecb241b9cee16508e38e55ee65": {
      "type": "Ybodychange",
      "commitMessage": "IDEA-94514 External Compiler: Validation On Make not triggered\n",
      "commitDate": "2012-11-14, 11:17 a.m.",
      "commitName": "a015b79873b418ecb241b9cee16508e38e55ee65",
      "commitAuthor": "Eugene Zhuravlev",
      "commitDateOld": "2012-08-27, 2:50 a.m.",
      "commitNameOld": "7c2ec369ed4306c9dd3dd6eef208b193f61b888d",
      "commitAuthorOld": "nik",
      "daysBetweenCommits": 79.39,
      "commitsBetweenForRepo": 4313,
      "commitsBetweenForFile": 1,
      "actualSource": "  public final void removeCompiler(@NotNull Compiler compiler) {\n    if (compiler instanceof TranslatingCompiler) {\n      myTranslators.remove(compiler);\n    }\n    else {\n      if (myCompilers.remove(compiler)) {\n        for (List\u003cCompileTask\u003e tasks : Arrays.asList(myBeforeTasks, myAfterTasks)) {\n          for (Iterator\u003cCompileTask\u003e iterator \u003d tasks.iterator(); iterator.hasNext(); ) {\n            CompileTask task \u003d iterator.next();\n            if (task instanceof FileProcessingCompilerAdapterTask \u0026\u0026 ((FileProcessingCompilerAdapterTask)task).getCompiler() \u003d\u003d compiler) {\n              iterator.remove();\n            }\n          }\n        }\n      }\n    }\n    myCompilerToInputTypes.remove(compiler);\n    myCompilerToOutputTypes.remove(compiler);\n  }",
      "path": "java/compiler/impl/src/com/intellij/compiler/CompilerManagerImpl.java",
      "functionStartLine": 179,
      "functionName": "removeCompiler",
      "diff": "@@ -1,10 +1,19 @@\n   public final void removeCompiler(@NotNull Compiler compiler) {\n     if (compiler instanceof TranslatingCompiler) {\n       myTranslators.remove(compiler);\n     }\n     else {\n-      myCompilers.remove(compiler);\n+      if (myCompilers.remove(compiler)) {\n+        for (List\u003cCompileTask\u003e tasks : Arrays.asList(myBeforeTasks, myAfterTasks)) {\n+          for (Iterator\u003cCompileTask\u003e iterator \u003d tasks.iterator(); iterator.hasNext(); ) {\n+            CompileTask task \u003d iterator.next();\n+            if (task instanceof FileProcessingCompilerAdapterTask \u0026\u0026 ((FileProcessingCompilerAdapterTask)task).getCompiler() \u003d\u003d compiler) {\n+              iterator.remove();\n+            }\n+          }\n+        }\n+      }\n     }\n     myCompilerToInputTypes.remove(compiler);\n     myCompilerToOutputTypes.remove(compiler);\n   }\n\\ No newline at end of file\n",
      "extendedDetails": {}
    },
    "62061626c6844513ba00233768eb72efd7bc23fc": {
      "type": "Yfilerename",
      "commitMessage": "compiler-impl\n",
      "commitDate": "2009-08-30, 12:52 p.m.",
      "commitName": "62061626c6844513ba00233768eb72efd7bc23fc",
      "commitAuthor": "Dmitry Jemerov",
      "commitDateOld": "2009-08-30, 12:45 p.m.",
      "commitNameOld": "b37036acfc3c4c158f8a6f19055f0a8e5d817be9",
      "commitAuthorOld": "Dmitry Jemerov",
      "daysBetweenCommits": 0.01,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "actualSource": "  public final void removeCompiler(@NotNull Compiler compiler) {\n    if (compiler instanceof TranslatingCompiler) {\n      myTranslators.remove(compiler);\n    }\n    else {\n      myCompilers.remove(compiler);\n    }\n    myCompilerToInputTypes.remove(compiler);\n    myCompilerToOutputTypes.remove(compiler);\n  }",
      "path": "java/compiler/impl/src/com/intellij/compiler/CompilerManagerImpl.java",
      "functionStartLine": 143,
      "functionName": "removeCompiler",
      "diff": "",
      "extendedDetails": {
        "oldPath": "compiler/impl/com/intellij/compiler/CompilerManagerImpl.java",
        "newPath": "java/compiler/impl/src/com/intellij/compiler/CompilerManagerImpl.java"
      }
    },
    "73c6272439e63f1eb93b3fee72b02f23d24c5fd5": {
      "type": "Ymultichange(Ybodychange,Yparametermetachange)",
      "commitMessage": "notnull, cleanup\n",
      "commitDate": "2009-04-01, 10:09 a.m.",
      "commitName": "73c6272439e63f1eb93b3fee72b02f23d24c5fd5",
      "commitAuthor": "Alexey Kudravtsev",
      "subchanges": [
        {
          "type": "Ybodychange",
          "commitMessage": "notnull, cleanup\n",
          "commitDate": "2009-04-01, 10:09 a.m.",
          "commitName": "73c6272439e63f1eb93b3fee72b02f23d24c5fd5",
          "commitAuthor": "Alexey Kudravtsev",
          "commitDateOld": "2009-02-19, 2:31 a.m.",
          "commitNameOld": "9db1e00908e79dc5bac6e81c9dfdc77a067c4109",
          "commitAuthorOld": "Alexey Kudravtsev",
          "daysBetweenCommits": 41.28,
          "commitsBetweenForRepo": 551,
          "commitsBetweenForFile": 1,
          "actualSource": "  public final void removeCompiler(@NotNull Compiler compiler) {\n    if (compiler instanceof TranslatingCompiler) {\n      myTranslators.remove(compiler);\n    }\n    else {\n      myCompilers.remove(compiler);\n    }\n    myCompilerToInputTypes.remove(compiler);\n    myCompilerToOutputTypes.remove(compiler);\n  }",
          "path": "compiler/impl/com/intellij/compiler/CompilerManagerImpl.java",
          "functionStartLine": 133,
          "functionName": "removeCompiler",
          "diff": "@@ -1,10 +1,10 @@\n-  public final void removeCompiler(Compiler compiler) {\n+  public final void removeCompiler(@NotNull Compiler compiler) {\n     if (compiler instanceof TranslatingCompiler) {\n-      myTranslators.remove((TranslatingCompiler)compiler);\n+      myTranslators.remove(compiler);\n     }\n     else {\n       myCompilers.remove(compiler);\n     }\n     myCompilerToInputTypes.remove(compiler);\n     myCompilerToOutputTypes.remove(compiler);\n   }\n\\ No newline at end of file\n",
          "extendedDetails": {}
        },
        {
          "type": "Yparametermetachange",
          "commitMessage": "notnull, cleanup\n",
          "commitDate": "2009-04-01, 10:09 a.m.",
          "commitName": "73c6272439e63f1eb93b3fee72b02f23d24c5fd5",
          "commitAuthor": "Alexey Kudravtsev",
          "commitDateOld": "2009-02-19, 2:31 a.m.",
          "commitNameOld": "9db1e00908e79dc5bac6e81c9dfdc77a067c4109",
          "commitAuthorOld": "Alexey Kudravtsev",
          "daysBetweenCommits": 41.28,
          "commitsBetweenForRepo": 551,
          "commitsBetweenForFile": 1,
          "actualSource": "  public final void removeCompiler(@NotNull Compiler compiler) {\n    if (compiler instanceof TranslatingCompiler) {\n      myTranslators.remove(compiler);\n    }\n    else {\n      myCompilers.remove(compiler);\n    }\n    myCompilerToInputTypes.remove(compiler);\n    myCompilerToOutputTypes.remove(compiler);\n  }",
          "path": "compiler/impl/com/intellij/compiler/CompilerManagerImpl.java",
          "functionStartLine": 133,
          "functionName": "removeCompiler",
          "diff": "@@ -1,10 +1,10 @@\n-  public final void removeCompiler(Compiler compiler) {\n+  public final void removeCompiler(@NotNull Compiler compiler) {\n     if (compiler instanceof TranslatingCompiler) {\n-      myTranslators.remove((TranslatingCompiler)compiler);\n+      myTranslators.remove(compiler);\n     }\n     else {\n       myCompilers.remove(compiler);\n     }\n     myCompilerToInputTypes.remove(compiler);\n     myCompilerToOutputTypes.remove(compiler);\n   }\n\\ No newline at end of file\n",
          "extendedDetails": {
            "oldValue": "[compiler-Compiler]",
            "newValue": "[compiler-Compiler(annotations-@NotNull)]"
          }
        }
      ]
    },
    "56d2d6f5399315a6c8957f1f1a60e22f840d7e97": {
      "type": "Ybodychange",
      "commitMessage": "clear compiler-filetype mapping on compiler removal\n",
      "commitDate": "2008-10-05, 10:11 a.m.",
      "commitName": "56d2d6f5399315a6c8957f1f1a60e22f840d7e97",
      "commitAuthor": "Eugene Zhuravlev",
      "commitDateOld": "2008-06-18, 5:29 a.m.",
      "commitNameOld": "9323fd32a739dd40159f3b86b09e3a969ab56eae",
      "commitAuthorOld": "Eugene Zhuravlev",
      "daysBetweenCommits": 109.2,
      "commitsBetweenForRepo": 2295,
      "commitsBetweenForFile": 1,
      "actualSource": "  public final void removeCompiler(Compiler compiler) {\n    if (compiler instanceof TranslatingCompiler) {\n      myTranslators.remove((TranslatingCompiler)compiler);\n    }\n    else {\n      myCompilers.remove(compiler);\n    }\n    myCompilerToInputTypes.remove(compiler);\n    myCompilerToOutputTypes.remove(compiler);\n  }",
      "path": "compiler/impl/com/intellij/compiler/CompilerManagerImpl.java",
      "functionStartLine": 134,
      "functionName": "removeCompiler",
      "diff": "@@ -1,8 +1,10 @@\n   public final void removeCompiler(Compiler compiler) {\n     if (compiler instanceof TranslatingCompiler) {\n       myTranslators.remove((TranslatingCompiler)compiler);\n     }\n     else {\n       myCompilers.remove(compiler);\n     }\n+    myCompilerToInputTypes.remove(compiler);\n+    myCompilerToOutputTypes.remove(compiler);\n   }\n\\ No newline at end of file\n",
      "extendedDetails": {}
    },
    "18f91a97ace20e612c68037047715572f6d25877": {
      "type": "Ybodychange",
      "commitMessage": "1. feature: chain of TranslatingCompilers\n2. feature: IntermediateOutputCompiler\n3. VFS snapshot on sources is used to iterate sources for translating compilers (rescanned if needed)\n",
      "commitDate": "2007-12-05, 10:12 a.m.",
      "commitName": "18f91a97ace20e612c68037047715572f6d25877",
      "commitAuthor": "Eugene Zhuravlev",
      "commitDateOld": "2007-07-20, 7:25 a.m.",
      "commitNameOld": "238fe18d77602573fd4b7f0190f5fd346c740a1f",
      "commitAuthorOld": "Nikolay Chashnikov",
      "daysBetweenCommits": 138.16,
      "commitsBetweenForRepo": 3035,
      "commitsBetweenForFile": 1,
      "actualSource": "  public final void removeCompiler(Compiler compiler) {\n    if (compiler instanceof TranslatingCompiler) {\n      myTranslators.remove((TranslatingCompiler)compiler);\n    }\n    else {\n      myCompilers.remove(compiler);\n    }\n  }",
      "path": "compiler/impl/com/intellij/compiler/CompilerManagerImpl.java",
      "functionStartLine": 122,
      "functionName": "removeCompiler",
      "diff": "@@ -1,3 +1,8 @@\n   public final void removeCompiler(Compiler compiler) {\n-    myCompilers.remove(compiler);\n+    if (compiler instanceof TranslatingCompiler) {\n+      myTranslators.remove((TranslatingCompiler)compiler);\n+    }\n+    else {\n+      myCompilers.remove(compiler);\n+    }\n   }\n\\ No newline at end of file\n",
      "extendedDetails": {}
    },
    "20639250de6910bfd8904ba3fb54ded5624f6656": {
      "type": "Yfilerename",
      "commitMessage": "Rename/Move: //IDEA/compiler-impl/src/com/intellij/compiler/actions/AntBuildForm.form To: //IDEA/compiler/impl/com/intellij/compiler/actions/AntBuildForm.form\n",
      "commitDate": "2005-10-17, 10:53 a.m.",
      "commitName": "20639250de6910bfd8904ba3fb54ded5624f6656",
      "commitAuthor": "no_reply@jetbrains.com",
      "commitDateOld": "2005-10-17, 10:50 a.m.",
      "commitNameOld": "b2b49f93655500d98f371e75d0670bd39aeb3def",
      "commitAuthorOld": "no_reply@jetbrains.com",
      "daysBetweenCommits": 0.0,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "actualSource": "  public final void removeCompiler(Compiler compiler) {\n    myCompilers.remove(compiler);\n  }",
      "path": "compiler/impl/com/intellij/compiler/CompilerManagerImpl.java",
      "functionStartLine": 60,
      "functionName": "removeCompiler",
      "diff": "",
      "extendedDetails": {
        "oldPath": "compiler-impl/src/com/intellij/compiler/CompilerManagerImpl.java",
        "newPath": "compiler/impl/com/intellij/compiler/CompilerManagerImpl.java"
      }
    },
    "637afa62e37f2ff15acf2f0129aa7eae57024506": {
      "type": "Yfilerename",
      "commitMessage": "compiler extraction\n",
      "commitDate": "2005-10-17, 5:25 a.m.",
      "commitName": "637afa62e37f2ff15acf2f0129aa7eae57024506",
      "commitAuthor": "no_reply@jetbrains.com",
      "commitDateOld": "2005-10-17, 4:42 a.m.",
      "commitNameOld": "ce3545c59aebd9c0e61a63e615dd8da148c5bc93",
      "commitAuthorOld": "Eugene Vigdorchik",
      "daysBetweenCommits": 0.03,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "actualSource": "  public final void removeCompiler(Compiler compiler) {\n    myCompilers.remove(compiler);\n  }",
      "path": "compiler-impl/src/com/intellij/compiler/CompilerManagerImpl.java",
      "functionStartLine": 60,
      "functionName": "removeCompiler",
      "diff": "",
      "extendedDetails": {
        "oldPath": "source/com/intellij/compiler/CompilerManagerImpl.java",
        "newPath": "compiler-impl/src/com/intellij/compiler/CompilerManagerImpl.java"
      }
    },
    "7460e5adae69c7b17c951f1198a6b6900721a1ee": {
      "type": "Yintroduced",
      "commitMessage": "initial\n",
      "commitDate": "2005-01-13, 3:44 p.m.",
      "commitName": "7460e5adae69c7b17c951f1198a6b6900721a1ee",
      "commitAuthor": "Maxim Shafirov",
      "diff": "@@ -0,0 +1,3 @@\n+  public final void removeCompiler(Compiler compiler) {\n+    myCompilers.remove(compiler);\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  public final void removeCompiler(Compiler compiler) {\n    myCompilers.remove(compiler);\n  }",
      "path": "source/com/intellij/compiler/CompilerManagerImpl.java",
      "functionStartLine": 57,
      "functionName": "removeCompiler"
    }
  }
}