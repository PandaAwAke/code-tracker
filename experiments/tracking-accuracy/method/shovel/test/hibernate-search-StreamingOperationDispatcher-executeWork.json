{
  "origin": "codeshovel",
  "repositoryName": "hibernate-search",
  "repositoryPath": "H:\\Projects\\hibernate\\hibernate-search/.git",
  "startCommitName": "5b778035965d7588ad1d1ae522c4bafebd3a0e16",
  "sourceFileName": "StreamingOperationDispatcher.java",
  "functionName": "executeWork",
  "functionId": "executeWork___work-LuceneWork__progressMonitor-IndexingMonitor",
  "sourceFilePath": "engine/src/main/java/org/hibernate/search/backend/impl/StreamingOperationDispatcher.java",
  "functionStartLine": 49,
  "functionEndLine": 56,
  "numCommitsSeen": 4,
  "timeTaken": 549,
  "changeHistory": [
    "1cf93d1325d9c1635bf919198916f2fdf6977dd6",
    "3c42a071e8d9b163d207e7e2e77e038341bf26e1",
    "bb0e67026acff2766b118ceb1fa1ed4c326a38bf",
    "a3097e1b94884633b6fd72b9aa9e0a575ccb2a2a"
  ],
  "changeHistoryShort": {
    "1cf93d1325d9c1635bf919198916f2fdf6977dd6": "Ybodychange",
    "3c42a071e8d9b163d207e7e2e77e038341bf26e1": "Ybodychange",
    "bb0e67026acff2766b118ceb1fa1ed4c326a38bf": "Ybodychange",
    "a3097e1b94884633b6fd72b9aa9e0a575ccb2a2a": "Yintroduced"
  },
  "changeHistoryDetails": {
    "1cf93d1325d9c1635bf919198916f2fdf6977dd6": {
      "type": "Ybodychange",
      "commitMessage": "HSEARCH-2781 Introduce IndexManagerSelector to hide IndexShardingStrategy from SPIs\n\nThis will allow integrators to arbitrarily route indexing works (using\nthe selector) without having to use Class\u003c?\u003e to refer to indexed types\n(which IndexShardingStrategy mandates).\n",
      "commitDate": "2017-07-03, 12:45 p.m.",
      "commitName": "1cf93d1325d9c1635bf919198916f2fdf6977dd6",
      "commitAuthor": "Yoann Rodière",
      "commitDateOld": "2017-06-12, 7:27 p.m.",
      "commitNameOld": "3c42a071e8d9b163d207e7e2e77e038341bf26e1",
      "commitAuthorOld": "Sanne Grinovero",
      "daysBetweenCommits": 20.72,
      "commitsBetweenForRepo": 40,
      "commitsBetweenForFile": 1,
      "actualSource": "\tprivate void executeWork(LuceneWork work, IndexingMonitor progressMonitor) {\n\t\tfinal IndexedTypeIdentifier entityType \u003d work.getEntityType();\n\t\tEntityIndexBinding entityIndexBinding \u003d integrator.getIndexBinding( entityType );\n\t\tIndexManagerSelector selector \u003d entityIndexBinding.getIndexManagerSelector();\n\t\tStreamingOperationExecutor executor \u003d\n\t\t\t\twork.acceptIndexWorkVisitor( StreamingOperationExecutorSelector.INSTANCE, null );\n\t\texecutor.performStreamOperation( work, selector, progressMonitor, forceAsync );\n\t}",
      "path": "engine/src/main/java/org/hibernate/search/backend/impl/StreamingOperationDispatcher.java",
      "functionStartLine": 49,
      "functionName": "executeWork",
      "diff": "@@ -1,8 +1,8 @@\n \tprivate void executeWork(LuceneWork work, IndexingMonitor progressMonitor) {\n \t\tfinal IndexedTypeIdentifier entityType \u003d work.getEntityType();\n \t\tEntityIndexBinding entityIndexBinding \u003d integrator.getIndexBinding( entityType );\n-\t\tIndexShardingStrategy shardingStrategy \u003d entityIndexBinding.getSelectionStrategy();\n+\t\tIndexManagerSelector selector \u003d entityIndexBinding.getIndexManagerSelector();\n \t\tStreamingOperationExecutor executor \u003d\n \t\t\t\twork.acceptIndexWorkVisitor( StreamingOperationExecutorSelector.INSTANCE, null );\n-\t\texecutor.performStreamOperation( work, shardingStrategy, progressMonitor, forceAsync );\n+\t\texecutor.performStreamOperation( work, selector, progressMonitor, forceAsync );\n \t}\n\\ No newline at end of file\n",
      "extendedDetails": {}
    },
    "3c42a071e8d9b163d207e7e2e77e038341bf26e1": {
      "type": "Ybodychange",
      "commitMessage": "HSEARCH-1404 Introduce the concept of IndexedTypeIdentifier, IndexedTypeMap and IndexedTypeSet\n",
      "commitDate": "2017-06-12, 7:27 p.m.",
      "commitName": "3c42a071e8d9b163d207e7e2e77e038341bf26e1",
      "commitAuthor": "Sanne Grinovero",
      "commitDateOld": "2017-04-20, 6:39 a.m.",
      "commitNameOld": "bb0e67026acff2766b118ceb1fa1ed4c326a38bf",
      "commitAuthorOld": "Sanne Grinovero",
      "daysBetweenCommits": 53.53,
      "commitsBetweenForRepo": 228,
      "commitsBetweenForFile": 1,
      "actualSource": "\tprivate void executeWork(LuceneWork work, IndexingMonitor progressMonitor) {\n\t\tfinal IndexedTypeIdentifier entityType \u003d work.getEntityType();\n\t\tEntityIndexBinding entityIndexBinding \u003d integrator.getIndexBinding( entityType );\n\t\tIndexShardingStrategy shardingStrategy \u003d entityIndexBinding.getSelectionStrategy();\n\t\tStreamingOperationExecutor executor \u003d\n\t\t\t\twork.acceptIndexWorkVisitor( StreamingOperationExecutorSelector.INSTANCE, null );\n\t\texecutor.performStreamOperation( work, shardingStrategy, progressMonitor, forceAsync );\n\t}",
      "path": "engine/src/main/java/org/hibernate/search/backend/impl/StreamingOperationDispatcher.java",
      "functionStartLine": 49,
      "functionName": "executeWork",
      "diff": "@@ -1,8 +1,8 @@\n \tprivate void executeWork(LuceneWork work, IndexingMonitor progressMonitor) {\n-\t\tfinal Class\u003c?\u003e entityType \u003d work.getEntityClass();\n+\t\tfinal IndexedTypeIdentifier entityType \u003d work.getEntityType();\n \t\tEntityIndexBinding entityIndexBinding \u003d integrator.getIndexBinding( entityType );\n \t\tIndexShardingStrategy shardingStrategy \u003d entityIndexBinding.getSelectionStrategy();\n \t\tStreamingOperationExecutor executor \u003d\n \t\t\t\twork.acceptIndexWorkVisitor( StreamingOperationExecutorSelector.INSTANCE, null );\n \t\texecutor.performStreamOperation( work, shardingStrategy, progressMonitor, forceAsync );\n \t}\n\\ No newline at end of file\n",
      "extendedDetails": {}
    },
    "bb0e67026acff2766b118ceb1fa1ed4c326a38bf": {
      "type": "Ybodychange",
      "commitMessage": "HSEARCH-1886 Simplify the new StreamingOperationDispatcher\n",
      "commitDate": "2017-04-20, 6:39 a.m.",
      "commitName": "bb0e67026acff2766b118ceb1fa1ed4c326a38bf",
      "commitAuthor": "Sanne Grinovero",
      "commitDateOld": "2017-04-19, 6:10 p.m.",
      "commitNameOld": "a3097e1b94884633b6fd72b9aa9e0a575ccb2a2a",
      "commitAuthorOld": "Yoann Rodière",
      "daysBetweenCommits": 0.52,
      "commitsBetweenForRepo": 11,
      "commitsBetweenForFile": 1,
      "actualSource": "\tprivate void executeWork(LuceneWork work, IndexingMonitor progressMonitor) {\n\t\tfinal Class\u003c?\u003e entityType \u003d work.getEntityClass();\n\t\tEntityIndexBinding entityIndexBinding \u003d integrator.getIndexBinding( entityType );\n\t\tIndexShardingStrategy shardingStrategy \u003d entityIndexBinding.getSelectionStrategy();\n\t\tStreamingOperationExecutor executor \u003d\n\t\t\t\twork.acceptIndexWorkVisitor( StreamingOperationExecutorSelector.INSTANCE, null );\n\t\texecutor.performStreamOperation( work, shardingStrategy, progressMonitor, forceAsync );\n\t}",
      "path": "engine/src/main/java/org/hibernate/search/backend/impl/StreamingOperationDispatcher.java",
      "functionStartLine": 48,
      "functionName": "executeWork",
      "diff": "@@ -1,8 +1,8 @@\n \tprivate void executeWork(LuceneWork work, IndexingMonitor progressMonitor) {\n \t\tfinal Class\u003c?\u003e entityType \u003d work.getEntityClass();\n-\t\tEntityIndexBinding entityIndexBinding \u003d bindingLookup.apply( entityType );\n+\t\tEntityIndexBinding entityIndexBinding \u003d integrator.getIndexBinding( entityType );\n \t\tIndexShardingStrategy shardingStrategy \u003d entityIndexBinding.getSelectionStrategy();\n \t\tStreamingOperationExecutor executor \u003d\n \t\t\t\twork.acceptIndexWorkVisitor( StreamingOperationExecutorSelector.INSTANCE, null );\n \t\texecutor.performStreamOperation( work, shardingStrategy, progressMonitor, forceAsync );\n \t}\n\\ No newline at end of file\n",
      "extendedDetails": {}
    },
    "a3097e1b94884633b6fd72b9aa9e0a575ccb2a2a": {
      "type": "Yintroduced",
      "commitMessage": "HSEARCH-1886 Introduce OperationDispatcher, abstracting LuceneWork dispatching to IndexManagers\n",
      "commitDate": "2017-04-19, 6:10 p.m.",
      "commitName": "a3097e1b94884633b6fd72b9aa9e0a575ccb2a2a",
      "commitAuthor": "Yoann Rodière",
      "diff": "@@ -0,0 +1,8 @@\n+\tprivate void executeWork(LuceneWork work, IndexingMonitor progressMonitor) {\n+\t\tfinal Class\u003c?\u003e entityType \u003d work.getEntityClass();\n+\t\tEntityIndexBinding entityIndexBinding \u003d bindingLookup.apply( entityType );\n+\t\tIndexShardingStrategy shardingStrategy \u003d entityIndexBinding.getSelectionStrategy();\n+\t\tStreamingOperationExecutor executor \u003d\n+\t\t\t\twork.acceptIndexWorkVisitor( StreamingOperationExecutorSelector.INSTANCE, null );\n+\t\texecutor.performStreamOperation( work, shardingStrategy, progressMonitor, forceAsync );\n+\t}\n\\ No newline at end of file\n",
      "actualSource": "\tprivate void executeWork(LuceneWork work, IndexingMonitor progressMonitor) {\n\t\tfinal Class\u003c?\u003e entityType \u003d work.getEntityClass();\n\t\tEntityIndexBinding entityIndexBinding \u003d bindingLookup.apply( entityType );\n\t\tIndexShardingStrategy shardingStrategy \u003d entityIndexBinding.getSelectionStrategy();\n\t\tStreamingOperationExecutor executor \u003d\n\t\t\t\twork.acceptIndexWorkVisitor( StreamingOperationExecutorSelector.INSTANCE, null );\n\t\texecutor.performStreamOperation( work, shardingStrategy, progressMonitor, forceAsync );\n\t}",
      "path": "engine/src/main/java/org/hibernate/search/backend/impl/StreamingOperationDispatcher.java",
      "functionStartLine": 59,
      "functionName": "executeWork"
    }
  }
}